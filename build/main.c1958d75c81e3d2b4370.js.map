{"version":3,"sources":["webpack:///./templates/header/home.hbs","webpack:///./js/refs.js","webpack:///./js/queueList.js","webpack:///./js/myLibrary.js","webpack:///./js/apiService.js","webpack:///./js/libraryControll.js","webpack:///./js/rendering-of-watched.js","webpack:///./js/addToQueueList.js","webpack:///./js/open-close-modal.js","webpack:///./js/watched.js","webpack:///./js/modal-team.js","webpack:///./js/list-devs.js","webpack:///./js/pagination.js","webpack:///./index.js","webpack:///./templates/filmgallery.hbs","webpack:///./templates/header/myLibrary.hbs","webpack:///./templates/film-watched-queue.hbs","webpack:///./templates/modal.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","refs","homeBtn","document","querySelector","myLibraryBtn","header","inputQuery","gallery","galleryItems","querySelectorAll","spinner","inputRef","galleryRef","modalRef","modalBoxRef","modalBackdropRef","btnCloseModalRef","galContainerRef","headerButtons","pageHeader","markupMyLibraty","watched","body","paginationRef","getElementById","createQueueListFn","classList","add","innerHTML","queue","JSON","parse","localStorage","getItem","length","insertAdjacentHTML","filmGalleryTemplate","input","inputTemplate","addEventListener","event","preventDefault","inputIndexRef","target","nodeName","currentActiveBtn","remove","controlBtn","buttonId","getAttribute","queueBtn","startPopularFilms","inputMyLibrary","inputTemplateMyLibrary","searchUrl","trendingUrl","movieDetailsUrl","movieGenreList","apiKey","movieID","searchQuerry","page","fetchSearchRequestGallery","url","this","fetch","then","res","ok","json","Error","status","catch","error","console","log","fetchPopularMovieGallery","fetchMovieInfo","results","fetchGenresList","resetPage","value","markup","rendering","deletingFromLocalStorage","key","element","newStorage","updatedStorage","filter","el","poster_path","setItem","stringify","removeItem","btnText","btn","contains","textContent","addToQueueList","original_title","genre_ids","release_date","addToQueueBtn","watchedBtn","storage","includes","disabled","push","dataArray","closeModal","toggle","e","currentTarget","window","code","pushToStorage","currentFilm","src","dataset","vote_average","store","changeBtnTxt","deleteMovieFromArray","film","deleteFromStorage","index","markupStudent","avatar","link","name","role","reduce","string","modal","show","closeModalHandler","close","removeEventListener","basicLightbox","trendingUrlApiKey","apiFetch","totalRes","total_results","$","pagination","dataSource","locator","totalNumber","totalNumberLocatorэтот","pageSize","alias","pageNumber","prevText","nextText","callback","handlePopularFilmMarkup","genreTransform","genreDB","scrollTo","top","behavior","paginationJs","formRef","backdropRef","handleSearchQuery","toMatch","compare","moviesArr","forEach","item","currentFilmObj","handleModalMarkup","changeBtnWatchedText","modalGenreEditor","id","resultData","currentPage","totalPages","totalResults","total_pages","failureMarkup","finally","moviesDB","transferedGenreArr","map","newPosterPath","newDate","slice","genreArr","genreId","genre","popularFilms","popularMarkup","popularFilmsGalerryTpl","placeToInsert","movie","currentMovie","modalMarkup","modalTpl","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","lambda","alias3"],"mappings":"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","file":"main.c1958d75c81e3d2b4370.js","sourcesContent":["var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<form class=\\\"filmSearch\\\" id=\\\"query\\\" action=\\\"\\\" data-index=\\\"form\\\">\\r\\n    <input class=\\\"filmSearch__input\\\" data-index=\\\"serch\\\" type=\\\"text\\\" placeholder=\\\"Search films\\\" autocomplete=\\\"off\\\" />\\r\\n    <button type=\\\"submit\\\" class=\\\"material-icons white search-icon\\\">search</button>\\r\\n    <p type=\\\"submit\\\" class=\\\"filmSearch__input-error hidden\\\" data-index=\\\"fetchStatus\\\">\\r\\n    </p>\\r\\n</form>\";\n},\"useData\":true});","const refs = {\r\n  homeBtn: document.querySelector('[data-index=\"home\"]'),\r\n  myLibraryBtn: document.querySelector('[data-index=\"mylibrary\"]'),\r\n  header: document.querySelector('[data-index=\"header\"]'),\r\n  inputQuery: document.querySelector('.filmSearch'),\r\n  gallery: document.querySelector('[data-index=\"gallery\"]'),\r\n  galleryItems: () => document.querySelectorAll('#gallery-item'),\r\n  spinner: document.querySelector('#spinner'),\r\n  //adder by Dr.Frame\r\n  inputRef: document.querySelector('.filmSearch__input'),\r\n  galleryRef: document.querySelector('.movie__list'),\r\n  modalRef: document.querySelector('.card'),\r\n  modalBoxRef: document.querySelector('.card-box'),\r\n  modalBackdropRef: document.querySelector('.backdrop'),\r\n  btnCloseModalRef: document.querySelector('.card__btn-close'),\r\n  galContainerRef: document.querySelector('.js-container'),\r\n  //****** vlad hapon  */\r\n  headerButtons: document.querySelector('[data-index=\"headerButtons\"]'),\r\n  pageHeader: document.querySelector('.header__home'),\r\n  markupMyLibraty: document.querySelector('[data-index=\"headerСhanging\"]'),\r\n  watched: document.querySelector('.js-watched'),\r\n  body: document.querySelector('body'),\r\n  myLibraryBtn: document.querySelector('[data-index=\"mylibrary\"]'),\r\n  paginationRef: document.getElementById('pagination-container'),\r\n};\r\n\r\nexport default refs;\r\n","import refs from './refs';\r\nimport filmGalleryTemplate from '../templates/filmgallery.hbs';\r\n\r\nfunction createQueueListFn() {\r\n  const queueBtn = document.querySelector('[data-index=\"queue\"]');\r\n  queueBtn.classList.add('is__active--btn');\r\n  refs.galleryRef.innerHTML = '';\r\n  const queue = JSON.parse(localStorage.getItem('queue'));\r\n  if (!queue || queue.length === 0) {\r\n    refs.galleryRef.insertAdjacentHTML(\r\n      'beforeend',\r\n      '<p> This list is empty. Please add something:) </p>',\r\n    );\r\n    return;\r\n  }\r\n\r\n  return refs.galleryRef.insertAdjacentHTML(\r\n    'beforeend',\r\n    filmGalleryTemplate(queue),\r\n  );\r\n}\r\n\r\nexport default createQueueListFn;\r\n","import refs from '../js/refs';\r\nimport createQueueListFn from './queueList';\r\nimport inputTemplate from '../templates/header/home.hbs';\r\nimport inputTemplateMyLibrary from '../templates/header/myLibrary.hbs';\r\nimport { startPopularFilms } from '../index';\r\n\r\nconst input = inputTemplate();\r\n\r\nrefs.header.insertAdjacentHTML('beforeend', input);\r\nrefs.headerButtons.addEventListener('click', toLibrary);\r\nrefs.myLibraryBtn.addEventListener('click', libraryMarkup);\r\n\r\nfunction toLibrary(event) {\r\n  event.preventDefault();\r\n\r\n  const inputIndexRef = document.querySelector('[data-index=\"form\"]');\r\n\r\n  if (event.target.nodeName !== 'BUTTON') {\r\n    return;\r\n  }\r\n\r\n  const currentActiveBtn = refs.headerButtons.querySelector('.current');\r\n\r\n  if (currentActiveBtn) {\r\n    currentActiveBtn.classList.remove('current');\r\n  }\r\n\r\n  const controlBtn = event.target;\r\n  controlBtn.classList.add('current');\r\n\r\n  const buttonId = controlBtn.getAttribute('id');\r\n  if (buttonId === 'myLibrary') {\r\n    refs.pageHeader.classList.remove('header__home');\r\n    refs.pageHeader.classList.add('header__watched');\r\n    inputIndexRef.classList.add('is__hidden');\r\n    createQueueListFn();\r\n    const queueBtn = document.querySelector('[data-index=\"queue\"]');\r\n    queueBtn.addEventListener('click', createQueueListFn);\r\n    queueBtn.classList.add('is__active--btn');\r\n  }\r\n  if (buttonId === 'home') {\r\n    refs.pageHeader.classList.remove('header__watched');\r\n    refs.pageHeader.classList.add('header__home');\r\n    inputIndexRef.classList.remove('is__hidden');\r\n    refs.markupMyLibraty.innerHTML = '';\r\n    refs.paginationRef.classList.remove('pagination-is-hide');\r\n    refs.galleryRef.innerHTML = '';\r\n    startPopularFilms();\r\n  }\r\n}\r\n\r\nfunction libraryMarkup() {\r\n  const inputMyLibrary = inputTemplateMyLibrary();\r\n  refs.markupMyLibraty.innerHTML = '';\r\n  refs.markupMyLibraty.insertAdjacentHTML('beforeend', inputMyLibrary);\r\n  refs.paginationRef.classList.add('pagination-is-hide');\r\n}\r\n","export default {\r\n  searchUrl: 'https://api.themoviedb.org/3/search/movie?api_key=',\r\n  trendingUrl: 'https://api.themoviedb.org/3/trending/movie/week?api_key=',\r\n  movieDetailsUrl: 'https://api.themoviedb.org/3/movie/',\r\n  movieGenreList: 'https://api.themoviedb.org/3/genre/movie/list?api_key=',\r\n  apiKey: '3550330ecc32a34c7342dbd44dd96d6e',\r\n  movieID: 0,\r\n  searchQuerry: '',\r\n  page: 1,\r\n\r\n  fetchSearchRequestGallery() {\r\n    const url = `${this.searchUrl}${this.apiKey}&language=en-US&query=${this.searchQuerry}&page=${this.page}`;\r\n\r\n    return fetch(url)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        throw new Error(res.status);\r\n      })\r\n      .then(data => {\r\n        //this.page += 1;\r\n        return data;\r\n      })\r\n      .catch(error => console.log(error));\r\n  },\r\n\r\n  fetchPopularMovieGallery() {\r\n    const url = `${this.trendingUrl}${this.apiKey}&page=${this.page}`;\r\n\r\n    return fetch(url)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        //this.page += 1;\r\n        return data;\r\n      })\r\n      .catch(error => console.log(error));\r\n  },\r\n\r\n  fetchMovieInfo() {\r\n    const url = `${this.movieDetailsUrl}${this.movieID}?api_key=${this.apiKey}&language=en-US`;\r\n    return fetch(url)\r\n      .then(res => res.json())\r\n      .then(({ results }) => results)\r\n      .catch(error => console.log(error));\r\n  },\r\n\r\n  fetchGenresList() {\r\n    const url = `${this.movieGenreList}${this.apiKey}&language=en-US`;\r\n\r\n    return fetch(url)\r\n      .then(res => res.json())\r\n      .then(data => data)\r\n      .catch(error => console.log(error));\r\n  },\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n\r\n  get query() {\r\n    return this.searchQuerry;\r\n  },\r\n\r\n  set query(value) {\r\n    this.searchQuerry = value;\r\n  },\r\n\r\n  get movieID() {\r\n    return this.movieID;\r\n  },\r\n  set movieID(value) {\r\n    this.movieID = value;\r\n  },\r\n};\r\n","const storage = {\r\n  queue: localStorage.queue,\r\n  watched: localStorage.watched,\r\n\r\n  checkStorage(filmsArray) {\r\n    if (filmsArray) {\r\n      return;\r\n    }\r\n\r\n    localStorage.removeItem(filmsArray);\r\n  },\r\n\r\n  findFilm(film, filmsArray) {\r\n    return filmsArray\r\n      .filter(filmInArray => filmInArray.original_title === film.original_title)\r\n      .splice(film, 1);\r\n  },\r\n\r\n  deleteFilm(film, filmsArray) {\r\n    if (!filmsArray) {\r\n      return;\r\n    }\r\n    JSON.parse(filmsArray).splice(\r\n      this.findFilm(film, JSON.parse(filmsArray)),\r\n      1,\r\n    );\r\n    // filmsArray = JSON.stringify(a);\r\n  },\r\n};\r\n\r\nexport default storage;\r\n","import refs from './refs';\r\nimport rendering from '../templates/film-watched-queue.hbs';\r\nexport default function (data) {\r\n  const markup = rendering(data);\r\n\r\n  refs.galleryRef.innerHTML = '';\r\n  refs.galleryRef.insertAdjacentHTML('afterbegin', markup);\r\n}\r\n","import storage from './libraryControll';\r\nimport refs from './refs';\r\nimport createQueueListFn from './queueList';\r\nimport rendering from './rendering-of-watched';\r\n\r\nfunction addToQueueList(element) {\r\n  const { poster_path, original_title, genre_ids, release_date } = element;\r\n  const data = { poster_path, original_title, genre_ids, release_date };\r\n\r\n  const addToQueueBtn = document.querySelector('.js-queue');\r\n  const watchedBtn = document.querySelector('.js-watched');\r\n  const storage = localStorage.getItem('queue');\r\n\r\n  if (storage) {\r\n    if (storage.includes(element.poster_path)) {\r\n      addToQueueBtn.classList.add('added-to-watched');\r\n    }\r\n  }\r\n\r\n  addToQueueBtn.addEventListener('click', () => {\r\n    document.querySelector('.js-watched').classList.remove('added-to-watched');\r\n    document.querySelector('.js-watched').textContent = 'add to watched';\r\n    if (!addToQueueBtn.disabled) {\r\n      deletingFromLocalStorage('watched', element);\r\n    }\r\n    addToQueueBtn.classList.add('added-to-watched');\r\n    btnText(addToQueueBtn);\r\n    if (!localStorage.getItem('queue')) {\r\n      return localStorage.setItem('queue', JSON.stringify([data]));\r\n    }\r\n    const newStorage = JSON.parse(localStorage.getItem('queue'));\r\n    newStorage.push(data);\r\n    const dataArray = JSON.parse(localStorage.getItem('watched'));\r\n    rendering(dataArray);\r\n\r\n    if (!dataArray) {\r\n      refs.galleryRef.insertAdjacentHTML(\r\n        'afterbegin',\r\n        'No Watched moovies to show',\r\n      );\r\n    }\r\n\r\n    return localStorage.setItem('queue', JSON.stringify(newStorage));\r\n  });\r\n\r\n  watchedBtn.addEventListener('click', () => {\r\n    addToQueueBtn.classList.remove('added-to-watched');\r\n    btnText(addToQueueBtn);\r\n    deletingFromLocalStorage('queue', element);\r\n    createQueueListFn();\r\n  });\r\n}\r\nfunction deletingFromLocalStorage(key, element) {\r\n  const newStorage = JSON.parse(localStorage.getItem(key));\r\n  if (!localStorage.getItem(key)) {\r\n    return;\r\n  }\r\n  if (newStorage.length < 2) {\r\n    localStorage.removeItem(key);\r\n    return;\r\n  }\r\n  const updatedStorage = newStorage.filter(\r\n    el => el.poster_path !== element.poster_path,\r\n  );\r\n  return localStorage.setItem(key, JSON.stringify(updatedStorage));\r\n}\r\n\r\nfunction btnText(btn) {\r\n  if (btn.classList.contains('added-to-watched')) {\r\n    btn.textContent = 'In queue';\r\n  } else {\r\n    btn.textContent = 'Add to queue';\r\n  }\r\n  return btn.textContent;\r\n}\r\n\r\nexport default addToQueueList;\r\n","import refs from './refs';\r\n\r\nfunction closeModal() {\r\n  refs.modalBackdropRef.classList.toggle('is-hidden');\r\n  refs.modalBoxRef.innerHTML = '';\r\n  refs.body.classList.remove('hide-overflow');\r\n}\r\n\r\nrefs.btnCloseModalRef.addEventListener('click', closeModal);\r\nrefs.modalBackdropRef.addEventListener('click', e => {\r\n  if (e.target === e.currentTarget) {\r\n    closeModal();\r\n  }\r\n});\r\nwindow.addEventListener('keydown', e => {\r\n  if (\r\n    e.code === 'Escape' &&\r\n    !refs.modalBackdropRef.classList.contains('is-hidden')\r\n  ) {\r\n    closeModal();\r\n  }\r\n});\r\n","import refs from './refs';\r\nimport rendering from './rendering-of-watched';\r\n\r\ndocument.addEventListener('click', addToLocaleStorage);\r\n\r\nfunction addToLocaleStorage(event) {\r\n  if (event.target.classList.contains('js-watched')) {\r\n    if (localStorage.getItem('watched') === null) {\r\n      pushToStorage();\r\n      changeBtnTxt();\r\n    } else if (\r\n      !localStorage\r\n        .getItem('watched')\r\n        .includes(`${document.querySelector('.card__img').src}`)\r\n    ) {\r\n      pushToStorage();\r\n      changeBtnTxt();\r\n    } else if (\r\n      localStorage\r\n        .getItem('watched')\r\n        .includes(`${document.querySelector('.card__img').src}`)\r\n    ) {\r\n      deleteFromStorage();\r\n      originalBtnTxt();\r\n    }\r\n    function pushToStorage() {\r\n      const currentFilm = {\r\n        poster_path: document.querySelector('.card__img').src,\r\n        release_date: event.target.dataset.release_date,\r\n        original_title: document.querySelector('.card__title').textContent,\r\n        vote_average: document.querySelector('.js-vote').textContent,\r\n      };\r\n      const store =\r\n        localStorage.getItem('watched') != null\r\n          ? JSON.parse(localStorage.getItem('watched'))\r\n          : [];\r\n      store.push(currentFilm);\r\n\r\n      localStorage.setItem('watched', JSON.stringify(store));\r\n    }\r\n    function changeBtnTxt() {\r\n      document.querySelector('.js-watched').textContent = 'already watched';\r\n      document.querySelector('.js-watched').classList.add('added-to-watched');\r\n    }\r\n    function deleteFromStorage() {\r\n      const currentFilm = {\r\n        poster_path: document.querySelector('.card__img').src,\r\n        release_date: event.target.dataset.release_date,\r\n        original_title: document.querySelector('.card__title').textContent,\r\n        vote_average: document.querySelector('.js-vote').textContent,\r\n      };\r\n      const store = JSON.parse(localStorage.getItem('watched'));\r\n\r\n      if (!localStorage.getItem('watched') || store.length <= 2) {\r\n        localStorage.removeItem('watched');\r\n        return;\r\n      }\r\n\r\n      const deleteMovieFromArray = store.filter(\r\n        film => film.poster_path != currentFilm.poster_path,\r\n      );\r\n      localStorage.setItem('watched', JSON.stringify(deleteMovieFromArray));\r\n    }\r\n    function originalBtnTxt() {\r\n      document.querySelector('.js-watched').textContent = 'add to watched';\r\n      document\r\n        .querySelector('.js-watched')\r\n        .classList.remove('added-to-watched');\r\n    }\r\n  }\r\n}\r\n\r\ndocument.addEventListener('click', showAllWatched);\r\n\r\nfunction showAllWatched(event) {\r\n  if (event.target.dataset.index === 'watched') {\r\n    const queueBtn = document.querySelector('[data-index=\"queue\"]');\r\n    const watchBtn = document.querySelector('[data-index=\"watched\"]');\r\n    watchBtn.classList.add('is__active--btn');\r\n    queueBtn.classList.remove('is__active--btn');\r\n\r\n    refs.galleryRef.textContent = '';\r\n    if (localStorage.getItem('watched')) {\r\n      const dataArray = JSON.parse(localStorage.getItem('watched'));\r\n      rendering(dataArray);\r\n    } else {\r\n      refs.galleryRef.insertAdjacentHTML(\r\n        'afterbegin',\r\n        'No Watched moovies to show',\r\n      );\r\n    }\r\n  }\r\n}\r\n","import * as basicLightbox from 'basiclightbox';\r\nimport students from './list-devs';\r\n\r\n\r\nconst markupStudent = students.reduce(\r\n  (string, {avatar,link, name, role }) =>\r\n    string +\r\n    `\r\n<div class=\"team-card\">\r\n    <img class=\"team-image\" src=\"${avatar}\" alt=\"${name}-foto\">\r\n    <h2 class=\"team-name\">${name}</h2>\r\n     <a href=\"${link}\" target=\"_blank\" class=\"team-git\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n<title>github-link</title>\r\n<path d=\"M12 0.75c-6.213 0-11.25 5.037-11.25 11.25s5.037 11.25 11.25 11.25 11.25-5.037 11.25-11.25-5.037-11.25-11.25-11.25zM21.75 12c0 0.001 0 0.002 0 0.004 0 4.454-2.986 8.21-7.066 9.375l-0.069 0.017v-3.648q0-1.298-0.696-1.9c0.516-0.052 0.983-0.137 1.435-0.255l-0.064 0.014c0.479-0.134 0.897-0.312 1.284-0.536l-0.026 0.014c0.425-0.234 0.784-0.531 1.080-0.884l0.005-0.006q0.435-0.529 0.709-1.405t0.274-2.014q0-1.619-1.057-2.757 0.495-1.218-0.107-2.73-0.375-0.121-1.084 0.147c-0.475 0.176-0.88 0.374-1.263 0.607l0.032-0.018-0.509 0.321c-0.77-0.221-1.655-0.348-2.57-0.348s-1.799 0.127-2.638 0.364l0.068-0.016c-0.59-1.127-2.086-1.199-2.837-1.057-0.5 0.797-0.44 2.054-0.094 2.73q-1.057 1.138-1.057 2.757 0 1.138 0.274 2.007t0.703 1.405c0.296 0.363 0.653 0.663 1.059 0.887l0.019 0.009c0.361 0.21 0.779 0.389 1.219 0.513l0.038 0.009c0.389 0.105 0.856 0.189 1.333 0.238l0.039 0.003q-0.535 0.482-0.656 1.379c-0.173 0.084-0.374 0.153-0.585 0.198l-0.017 0.003c-0.214 0.043-0.46 0.067-0.711 0.067-0.018 0-0.036-0-0.054-0l0.003 0q-0.442 0-0.877-0.288t-0.743-0.837c-0.166-0.281-0.383-0.513-0.642-0.691l-0.007-0.005q-0.395-0.268-0.662-0.321l-0.121-0.027c-0.020-0.005-0.044-0.008-0.068-0.008-0.12 0-0.224 0.068-0.275 0.167l-0.001 0.002-0.016 0.031c-0.022 0.041-0.034 0.090-0.034 0.142 0 0.125 0.073 0.232 0.179 0.281l0.002 0.001q0.294 0.134 0.582 0.509c0.159 0.198 0.3 0.422 0.413 0.662l0.009 0.020 0.134 0.308c0.113 0.336 0.318 0.617 0.585 0.82l0.004 0.003c0.25 0.196 0.553 0.337 0.884 0.399l0.013 0.002c0.276 0.054 0.597 0.088 0.925 0.094l0.005 0c0.037 0.001 0.081 0.002 0.125 0.002 0.218 0 0.432-0.018 0.64-0.052l-0.023 0.003 0.308-0.053q0 0.508 0.007 1.191c0.003 0.276 0.005 1.027 0.006 1.582-4.213-1.141-7.262-4.93-7.262-9.431 0-4.014 2.424-7.462 5.889-8.959l0.063-0.024c1.121-0.487 2.426-0.77 3.798-0.77 5.383 0 9.747 4.364 9.747 9.747 0 0.003 0 0.006 0 0.009v-0z\"></path>\r\n</svg>\r\n     </a>\r\n    <p class=\"team-role\">${role}</p>\r\n</div>`,\r\n  '',\r\n);\r\n\r\nconst container = document.querySelector('[data-index=\"team\"]')\r\n\r\ncontainer.addEventListener('click', openModalStudent);\r\n\r\nconst modal = basicLightbox.create(\r\n  `<div class=\"team-wrapper\">${markupStudent}</div>`,\r\n);\r\n\r\nfunction openModalStudent(e) {\r\n  modal.show();\r\n\r\n  window.addEventListener('keydown', closeModalHandler);\r\n\r\n  function closeModalHandler(e) {\r\n    if (e.code === 'Escape') {\r\n      modal.close();\r\n      window.removeEventListener('keydown', closeModalHandler);\r\n    }\r\n  }\r\n}","\r\nconst students = [\r\n  {\r\n    avatar:'https://avatars.githubusercontent.com/u/21546375?s=400&u=8837ab4e24638d6d6fa048d588957a9a0ba7b067&v=4',\r\n    link: 'https://github.com/kilinich-v',\r\n    name: 'Vladimir Kilinich',\r\n    role: 'Team Lead',\r\n  },\r\n  {\r\n    avatar:'https://raw.githubusercontent.com/kilinich-v/goit-Filmoteka-cp/main/src/images/team-ava/vladyslav-hapon.jpg',\r\n    link: 'https://github.com/vladhpn',\r\n    name: 'Vladyslav Hapon',\r\n    role: 'Scrum Master',\r\n  },\r\n  {\r\n    avatar:'https://raw.githubusercontent.com/kilinich-v/goit-Filmoteka-cp/main/src/images/team-ava/avatar-nogender.jpg',\r\n    link: 'https://github.com/AleksandrPriadko',\r\n    name: 'Aleksandr Priadko',\r\n    role: 'Developer',\r\n  },\r\n  {\r\n    avatar:'https://raw.githubusercontent.com/kilinich-v/goit-Filmoteka-cp/main/src/images/team-ava/alena-laptieva.jpg',\r\n    link: 'https://github.com/olenaLa',\r\n    name: 'Alena Laptieva',\r\n    role: 'Developer',\r\n  },\r\n  {\r\n    avatar:'https://raw.githubusercontent.com/kilinich-v/goit-Filmoteka-cp/main/src/images/team-ava/avatar-nogender.jpg',\r\n    link: 'https://github.com/Bohdan-R',\r\n    name: 'Bohdan Remeniuk',\r\n    role: 'Developer',\r\n  },\r\n  {\r\n    avatar: 'https://raw.githubusercontent.com/kilinich-v/goit-Filmoteka-cp/main/src/images/team-ava/filip-koza.jpg',\r\n    link: 'https://github.com/Fil1989',\r\n    name: 'Filip Koza',\r\n    role: 'Developer',\r\n  },\r\n  {\r\n    avatar:'https://avatars.githubusercontent.com/u/68159626?s=400&u=e7cae113f04aaa301159734e90104653d54b4ea3&v=4',\r\n    link: 'https://github.com/LiubovShpakova',\r\n    name: 'Liubov Shpakova',\r\n    role: 'Developer',\r\n  },\r\n  {\r\n    avatar:'https://raw.githubusercontent.com/kilinich-v/goit-Filmoteka-cp/main/src/images/team-ava/marina-permiakova.jpg',\r\n    link: 'https://github.com/Nickmarina',\r\n    name: 'Marina Permiakova',\r\n    role: 'Developer',\r\n  },\r\n  {\r\n    avatar:'https://raw.githubusercontent.com/kilinich-v/goit-Filmoteka-cp/main/src/images/img/caterror.jpg',\r\n    link: 'https://github.com/Dr-Frame',\r\n    name: 'Vladyslav Remeniuk',\r\n    role: 'Developer',\r\n  },\r\n  {\r\n    avatar: 'https://raw.githubusercontent.com/kilinich-v/goit-Filmoteka-cp/main/src/images/team-ava/volodymyr-kostetskyi.jpg',\r\n    link: 'https://github.com/Nobergan',\r\n    name: 'Volodymyr Kostetskyi',\r\n    role: 'Developer',\r\n  }\r\n];\r\nexport default students;\r\n","import apiFetch from './apiService';\r\nimport refs from './refs';\r\nimport {\r\n  genreDB,\r\n  startPopularFilms,\r\n  genreTransform,\r\n  handlePopularFilmMarkup,\r\n  handleSearchQuery,\r\n  failureMarkup,\r\n  modalMatchesFounder,\r\n  modalGenreEditor,\r\n  handleModalMarkup,\r\n} from '../index';\r\nimport 'paginationjs';\r\n\r\nexport default function paginationJs() {\r\n  const trendingsUrl = apiFetch.trendingUrl;\r\n  const trendingUrlApiKey = `${trendingsUrl}${apiFetch.apiKey}`;\r\n  const galleryRef = refs.galleryRef;\r\n  $('#pagination-container').pagination({\r\n    dataSource: trendingUrlApiKey,\r\n    locator: 'results',\r\n    totalNumber: 20000,\r\n    totalNumberLocatorэтот: totalRes(),\r\n    pageSize: 20,\r\n    alias: {\r\n      pageNumber: 'page',\r\n    },\r\n    prevText: '',\r\n    nextText: '',\r\n    callback: function (data, pagination) {\r\n      galleryRef.innerHTML = '';\r\n      handlePopularFilmMarkup(genreTransform(data, genreDB));\r\n      window.scrollTo({\r\n        top: 0,\r\n        behavior: 'smooth',\r\n      });\r\n    },\r\n  });\r\n\r\n  function totalRes() {\r\n    apiFetch.fetchPopularMovieGallery().then(data => {\r\n      data.total_results;\r\n    });\r\n  }\r\n  totalRes();\r\n}\r\n","import './styles.scss';\r\nimport './js/myLibrary';\r\nimport _ from 'lodash';\r\nimport refs from './js/refs';\r\nimport paginationJs from './js/pagination';\r\nimport apiFetch from './js/apiService.js';\r\nimport addToQueueList from './js/addToQueueList';\r\nimport './js/open-close-modal';\r\nimport './js/watched';\r\nimport './js/libraryControll';\r\nimport popularFilmsGalerryTpl from './templates/filmgallery.hbs';\r\nimport modalTpl from './templates/modal.hbs';\r\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css';\r\nimport './js/modal-team';\r\n\r\n//============== вставка Dr.Frame======================\r\npaginationJs();\r\n//=====================================================\r\n\r\n// мои ссылки для корректной работы впихнутого кода\r\nconst inputRef = document.querySelector('.filmSearch__input');\r\nconst formRef = document.querySelector('.filmSearch');\r\nconst galleryRef = refs.galleryRef;\r\nconst modalRef = refs.modalRef;\r\nconst backdropRef = document.querySelector('#js-backdrop');\r\n\r\nstartPopularFilms();\r\nformRef.addEventListener('submit', handleSearchQuery);\r\ngalleryRef.addEventListener('click', modalMatchesFounder);\r\n\r\n// ============= функции отвечает за стартовую загрузку популярных фильмов =============================\r\n\r\n//массив жанров от АПИ\r\nexport let genreDB = [\r\n  { id: 28, name: 'Action' },\r\n  { id: 12, name: 'Adventure' },\r\n  { id: 16, name: 'Animation' },\r\n  { id: 35, name: 'Comedy' },\r\n  { id: 80, name: 'Crime' },\r\n  { id: 99, name: 'Documentary' },\r\n  { id: 18, name: 'Drama' },\r\n  { id: 10751, name: 'Family' },\r\n  { id: 14, name: 'Fantasy' },\r\n  { id: 36, name: 'History' },\r\n  { id: 27, name: 'Horror' },\r\n  { id: 10402, name: 'Music' },\r\n  { id: 9648, name: 'Mystery' },\r\n  { id: 10749, name: 'Romance' },\r\n  { id: 878, name: 'Science Fiction' },\r\n  { id: 10770, name: 'TV Movie' },\r\n  { id: 53, name: 'Thriller' },\r\n  { id: 10752, name: 'War' },\r\n  { id: 37, name: 'Western' },\r\n];\r\n\r\n// берут значение после фетча\r\nconst resultData = {\r\n  currentPage: 1,\r\n  totalPages: null,\r\n  totalResults: null,\r\n};\r\n\r\n//заходит сюда отрендеренный масив\r\nlet moviesArr;\r\n//заходит обьект для рендера модалки\r\nlet currentFilmObj = {};\r\n\r\nexport function startPopularFilms() {\r\n  apiFetch\r\n    .fetchPopularMovieGallery()\r\n    .then(data => {\r\n      refs.spinner.classList.remove('is-hidden'); //добавляет спиннер\r\n      resultData.currentPage = data.page;\r\n      resultData.totalPages = data.total_pages;\r\n      resultData.totalResults = data.total_results;\r\n      return data;\r\n    })\r\n    .then(({ results }) => {\r\n      handlePopularFilmMarkup(genreTransform(results, genreDB));\r\n    })\r\n    .catch(error => failureMarkup(refs.galContainerRef))\r\n    .finally(() => refs.spinner.classList.add('is-hidden')); //прячет спиннер\r\n}\r\n\r\n// меняет числа жанров на название и дату релиза\r\nexport function genreTransform(moviesDB, genreDB) {\r\n  const transferedGenreArr = moviesDB.map(film => {\r\n    //ставим заглушку если нету фото\r\n    if (film.poster_path === null) {\r\n      film.poster_path = 'https://i.ibb.co/hWJT4yj/noImage.jpg';\r\n    } else {\r\n      const newPosterPath = `https://image.tmdb.org/t/p/w500/${film.poster_path}`;\r\n      film.poster_path = newPosterPath;\r\n    }\r\n\r\n    //изменяем дату\r\n    const newDate = film.release_date.slice(0, 4);\r\n\r\n    //изменяем жанр\r\n    let genreArr = [];\r\n    film.genre_ids.forEach(genreId => {\r\n      for (const genre of genreDB) {\r\n        if (genre.id === genreId) {\r\n          genreArr.push(genre.name);\r\n        }\r\n      }\r\n    });\r\n    return { ...film, genre_ids: genreArr, release_date: newDate };\r\n  });\r\n  moviesArr = transferedGenreArr;\r\n\r\n  return transferedGenreArr;\r\n}\r\n\r\n//ставит разметку популярных фильмов\r\nexport function handlePopularFilmMarkup(popularFilms) {\r\n  const popularMarkup = popularFilmsGalerryTpl(popularFilms);\r\n  galleryRef.insertAdjacentHTML('beforeend', popularMarkup);\r\n}\r\n\r\n// =================================================================================================\r\n\r\n//функции отвечающие за отрисовку запроса\r\n\r\nexport function handleSearchQuery(event) {\r\n  event.preventDefault();\r\n\r\n  apiFetch.searchQuerry = '';\r\n  apiFetch.searchQuerry = inputRef.value;\r\n  if (inputRef.value) {\r\n    galleryRef.innerHTML = '';\r\n    refs.spinner.classList.remove('is-hidden'); //добавляет спиннер\r\n    apiFetch\r\n      .fetchSearchRequestGallery()\r\n      .then(data => {\r\n        resultData.currentPage = data.page;\r\n        resultData.totalPages = data.total_pages;\r\n        resultData.totalResults = data.total_results;\r\n        return data;\r\n      })\r\n      .then(({ results }) => {\r\n        if (results.length === 0) {\r\n          failureMarkup(refs.galleryRef);\r\n        } else {\r\n          handlePopularFilmMarkup(genreTransform(results, genreDB));\r\n        }\r\n      })\r\n      .catch(error => console.log(error))\r\n      .finally(() => refs.spinner.classList.add('is-hidden')); //прячет спиннер\r\n  } else {\r\n    return;\r\n  }\r\n}\r\n\r\n// рисует разметку когда нету результатов запроса\r\nexport function failureMarkup(placeToInsert) {\r\n  const failureMarkup = `<div class=\"error\">\r\n  <div class=\"error-img\"><img class=\"js-img-error\" src=\"https://i.ibb.co/4WvT00q/caterror.jpg\" alt=\"\" width=\"300\"></div>\r\n\r\n  <p class=\"gallery__failure\"> Unfortunately, no matches found. <span>Try again!</span> </p>\r\n</div>`;\r\n  placeToInsert.insertAdjacentHTML('afterbegin', failureMarkup);\r\n}\r\n\r\n// =================== модалка вывод фильма по клику =======================================\r\n\r\nfunction modalMatchesFounder(event) {\r\n  if (\r\n    event.target.nodeName !== 'IMG' ||\r\n    event.target.classList.contains('js-img-error')\r\n  ) {\r\n    return;\r\n  }\r\n  //вызов рендеринга модалки\r\n  const toMatch = event.target.dataset.compare;\r\n\r\n  moviesArr.forEach(item => {\r\n    if (item.poster_path === toMatch) {\r\n      currentFilmObj = { ...item };\r\n    } else {\r\n      return;\r\n    }\r\n  });\r\n  handleModalMarkup(currentFilmObj);\r\n  changeBtnWatchedText(event);\r\n  backdropRef.classList.remove('is-hidden');\r\n  addToQueueList(modalGenreEditor(currentFilmObj, genreDB));\r\n}\r\n\r\n//изменяет жанр при рендере модалки\r\nexport function modalGenreEditor(movie, genreDB) {\r\n  //изменяем жанр\r\n  let genreArr = [];\r\n  movie.genre_ids.forEach(genreId => {\r\n    for (const genre of genreDB) {\r\n      if (genre.id === genreId) {\r\n        genreArr.push(genre.name);\r\n      }\r\n    }\r\n  });\r\n  movie.genre_ids = genreArr;\r\n  return movie;\r\n}\r\n\r\n//рендерит разметку модального окна\r\nexport function handleModalMarkup(currentMovie) {\r\n  const modalMarkup = modalTpl(currentMovie);\r\n  refs.modalBoxRef.insertAdjacentHTML('afterbegin', modalMarkup);\r\n  refs.body.classList.add('hide-overflow');\r\n}\r\nfunction changeBtnWatchedText(event) {\r\n  if (\r\n    localStorage.getItem('watched') != null &&\r\n    localStorage.getItem('watched').includes(`${event.target.src}`)\r\n  ) {\r\n    document.querySelector('.js-watched').textContent = 'already watched';\r\n    document.querySelector('.js-watched').classList.add('added-to-watched');\r\n  }\r\n  if (\r\n    localStorage.getItem('queue') != null &&\r\n    localStorage.getItem('queue').includes(`${event.target.src}`)\r\n  ) {\r\n    document.querySelector('.js-queue').textContent = 'In queue';\r\n    document.querySelector('.js-queue').classList.add('added-to-watched');\r\n  }\r\n}\r\n\r\n// ======================== конец кода  Dr.Frame  =============================================\r\n//==================================================================================\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"poster\\\">\\r\\n  <div class=\\\"poster__img-wrap\\\">\\r\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":14},\"end\":{\"line\":4,\"column\":29}}}) : helper)))\n    + \"\\\" data-compare=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":45},\"end\":{\"line\":4,\"column\":60}}}) : helper)))\n    + \"\\\" alt=\\\"movie-poster\\\" class=\\\"poster__img\\\" width=\\\"274\\\">\\r\\n  </div>\\r\\n  <div class=\\\"poster__content-wrap\\\">\\r\\n    <h3 class=\\\"poster__movie-name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":35},\"end\":{\"line\":7,\"column\":53}}}) : helper)))\n    + \"</h3>\\r\\n    <div class=\\\"poster__movie-info-wrap\\\">\\r\\n      <ul class=\\\"poster__genre-list list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genre_ids\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":8},\"end\":{\"line\":13,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"        <p class=\\\"poster__genre-item\\\">&nbsp| \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":45},\"end\":{\"line\":14,\"column\":61}}}) : helper)))\n    + \"</p>\\r\\n      </ul>\\r\\n    </div>\\r\\n  </div>\\r\\n</li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"        <li class=\\\"poster__genre-item\\\">\\r\\n          \"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"<span>,&nbsp;</span></li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":19,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"mylibrary\\\">\\n    <button class=\\\"mylibrary__button\\\" data-index=\\\"watched\\\">WATCHED</button><button class=\\\"mylibrary__button\\\"\\n        data-index=\\\"queue\\\">QUEUE</button>\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"poster\\\">\\r\\n    <div class=\\\"poster__img-wrap\\\">\\r\\n        <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":18},\"end\":{\"line\":4,\"column\":33}}}) : helper)))\n    + \"\\\" data-compare=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":49},\"end\":{\"line\":4,\"column\":64}}}) : helper)))\n    + \"\\\" alt=\\\"movie-poster\\\" class=\\\"poster__img\\\" width=\\\"274\\\">\\r\\n    </div>\\r\\n    <div class=\\\"poster__content-wrap\\\">\\r\\n        <h3 class=\\\"poster__movie-name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":39},\"end\":{\"line\":7,\"column\":57}}}) : helper)))\n    + \"</h3>\\r\\n        <div class=\\\"poster__movie-info-wrap\\\">\\r\\n            <ul class=\\\"poster__genre-list list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genre_ids\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":16},\"end\":{\"line\":13,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"                <p class=\\\"card__info-content__item card__info-vote\\\">\\r\\n                    &nbsp|\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":26},\"end\":{\"line\":15,\"column\":42}}}) : helper)))\n    + \"&nbsp&nbsp&nbsp<span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":63},\"end\":{\"line\":15,\"column\":79}}}) : helper)))\n    + \"</span>\\r\\n                </p>\\r\\n            </ul>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"                <li class=\\\"poster__genre-item\\\">\\r\\n                    \"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"<span>,&nbsp;</span></li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":21,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"          <li class=\\\"card__info__genre-item\\\">\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"<span>,&nbsp;</span></li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"card__img-wrap\\\">\\r\\n  <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":12},\"end\":{\"line\":2,\"column\":27}}}) : helper)))\n    + \"\\\" alt=\\\"modal__img\\\" class=\\\"card__img\\\">\\r\\n</div>\\r\\n<div class=\\\"card__content-wrap\\\">\\r\\n  <h3 class=\\\"card__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":26},\"end\":{\"line\":5,\"column\":44}}}) : helper)))\n    + \"</h3>\\r\\n  <div class=\\\"card__info-wrap\\\">\\r\\n    <ul class=\\\"card__info-list list\\\">\\r\\n      <li class=\\\"card__info-item\\\">\\r\\n        <p class=\\\"card__info-title\\\">Vote / Votes</p>\\r\\n        <p class=\\\"card__info-vote\\\"><span class=\\\"js-vote\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":57},\"end\":{\"line\":10,\"column\":73}}}) : helper)))\n    + \"</span>&nbsp;/&nbsp;<span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":99},\"end\":{\"line\":10,\"column\":113}}}) : helper)))\n    + \"</span>\\r\\n        </p>\\r\\n      </li>\\r\\n      <li class=\\\"card__info-item\\\">\\r\\n        <p class=\\\"card__info-title\\\">Popularity</p>\\r\\n        <p class=\\\"card__info-popularity\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":41},\"end\":{\"line\":15,\"column\":55}}}) : helper)))\n    + \"</p>\\r\\n      </li>\\r\\n      <li class=\\\"card__info-item\\\">\\r\\n        <p class=\\\"card__info-title\\\">Original Title</p>\\r\\n        <p class=\\\"card__info-movie-name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":41},\"end\":{\"line\":19,\"column\":59}}}) : helper)))\n    + \"</p>\\r\\n      </li>\\r\\n      <li class=\\\"card__info-item\\\">\\r\\n        <p class=\\\"card__info-title\\\">Genre</p>\\r\\n        <ul class=\\\"card__info__genre-list list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genre_ids\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":10},\"end\":{\"line\":26,\"column\":19}}})) != null ? stack1 : \"\")\n    + \"      </li>\\r\\n    </ul>\\r\\n  </div>\\r\\n  <p class=\\\"card__description-title\\\">About</p>\\r\\n  <p class=\\\"card__description\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":31,\"column\":31},\"end\":{\"line\":31,\"column\":43}}}) : helper)))\n    + \"</p>\\r\\n  <div class=\\\"card__btn-box\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"button card__btn js-watched\\\" data-release_date=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":33,\"column\":81},\"end\":{\"line\":33,\"column\":97}}}) : helper)))\n    + \"\\\">add to\\r\\n      Watched</button>\\r\\n    <button type=\\\"button\\\" class=\\\"button card__btn js-queue\\\">add to queue</button>\\r\\n  </div>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}